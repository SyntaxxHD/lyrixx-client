(function(_0xe6924,_0x58e262){var _0x5a2176=a6_0x1061,_0x1575a4=_0xe6924();while(!![]){try{var _0x464b4b=-parseInt(_0x5a2176(0x24e))/0x1+parseInt(_0x5a2176(0x1f3))/0x2+parseInt(_0x5a2176(0x21b))/0x3*(-parseInt(_0x5a2176(0x21d))/0x4)+-parseInt(_0x5a2176(0x202))/0x5+-parseInt(_0x5a2176(0x1f8))/0x6+-parseInt(_0x5a2176(0x22f))/0x7+parseInt(_0x5a2176(0x244))/0x8;if(_0x464b4b===_0x58e262)break;else _0x1575a4['push'](_0x1575a4['shift']());}catch(_0x41a596){_0x1575a4['push'](_0x1575a4['shift']());}}}(a6_0x42cf,0x552b5));function a6_0x42cf(){var _0x5c2b36=['run','24jPMtwH','audio','renderingFrames','-r\x20','url(\x22','-safe\x200','.mp4','render-lyrics','progress','extractingFrames','createWriteStream','thumbnail-background','error','savedVideo','rmdirSync','from','dom-render','end','3483179ezedVs','renderingVideo','arrayBuffer','-c:v\x20libx264','Blob','.jpg\x27\x0d\x0a','append','videoFilePath','substring','/sddefault.jpg)','response','token','outputOptions','convertingToMp3','mkdirSync','inputOptions','thumbnail-artist','style','message','/frame-%d.jpg','onload','22931256CiQyuB','length','/extra/instrumental','catch','post','atob','\x20-\x20','lastIndexOf','writeFile','readdir','686833pyemWo','.jpg\x22)','then','/frame-','399320CZKcVg','.txt','instrumentalEnabled','/Lyrixx/frames-rendered/','path','4003332gaTgwl','.jpg','stringify','data','avg_frame_rate','file\x20\x27frame-','/extra/thumbnail','/Lyrixx/frames-raw/','percent','backgroundImage','1213780LrcmZs','round','_custom.mp3','block','log','innerHTML','.mp3','output','-f\x20concat','readFile','getIdToken','readAsArrayBuffer','customBackgroundEnabled','toBlob','/Lyrixx/video/','currentUser','streams','content-length','indexOf','url(https://img.youtube.com/vi/','application/json','/Lyrixx/downloaded-music/','json','http://www.youtube.com/watch?v=','replace','311403XvSPlH'];a6_0x42cf=function(){return _0x5c2b36;};return a6_0x42cf();}function convertToMp3(){return new Promise(function(_0xa856a3,_0xd05e27){var _0x119044=a6_0x1061;i=0xa;var _0x3c9aeb;ffmpeg(documentsPath+'/Lyrixx/downloaded-music/'+fileId+'.mp4')['on'](_0x119044(0x229),(_0x109529,_0x467f17,_0x58b457)=>{var _0x4b6c65=_0x119044;_0xd05e27(_0x109529[_0x4b6c65(0x241)]);})[_0x119044(0x209)](documentsPath+'/Lyrixx/downloaded-music/'+fileId+_0x119044(0x208))['on'](_0x119044(0x225),_0x530c2a=>{var _0x1e3506=_0x119044;_0x3c9aeb=Math[_0x1e3506(0x203)](_0x530c2a[_0x1e3506(0x200)]),addProgressText(language[_0x1e3506(0x23c)]+'\x20'+_0x3c9aeb+'%');})['on']('end',()=>{_0xa856a3();})[_0x119044(0x21c)]();});}const ctx=new AudioContext();function splitAudio(){return new Promise(function(_0x34565a,_0x5bd4a2){var _0x21d9d4=a6_0x1061;auth[_0x21d9d4(0x211)][_0x21d9d4(0x20c)]()[_0x21d9d4(0x250)](_0x331d10=>{var _0x4f4d42=_0x21d9d4,_0x275302=new FormData();_0x275302[_0x4f4d42(0x235)](_0x4f4d42(0x21e),blobAudio),_0x275302['append'](_0x4f4d42(0x23a),_0x331d10),fetch(apiServer+_0x4f4d42(0x246),{'method':_0x4f4d42(0x248),'body':_0x275302})['then'](_0x2ff32d=>_0x2ff32d[_0x4f4d42(0x231)]())[_0x4f4d42(0x250)](_0x5a6652=>{var _0x32b01e=_0x4f4d42;fs['appendFileSync'](documentsPath+_0x32b01e(0x217)+fileId+_0x32b01e(0x204),Buffer[_0x32b01e(0x22c)](_0x5a6652)),_0x34565a();})[_0x4f4d42(0x247)](_0x5f283f=>{_0x5bd4a2();});});});}function a6_0x1061(_0x92b18a,_0x25ce4a){var _0x42cf78=a6_0x42cf();return a6_0x1061=function(_0x10616c,_0x1fe4ad){_0x10616c=_0x10616c-0x1f3;var _0x277832=_0x42cf78[_0x10616c];return _0x277832;},a6_0x1061(_0x92b18a,_0x25ce4a);}function downloadVideo(){return new Promise(function(_0x29f9ff,_0x1761ca){var _0x235f63=a6_0x1061,_0x26d1d8,_0x3a123c=ytdl(_0x235f63(0x219)+selectedVideoId);_0x3a123c['pipe'](fs[_0x235f63(0x227)](documentsPath+_0x235f63(0x217)+fileId+_0x235f63(0x223))),_0x3a123c['on'](_0x235f63(0x239),_0x2220b6=>{var _0x5d8299=_0x235f63,_0x476cb0=_0x2220b6['headers'][_0x5d8299(0x213)],_0x67e427=0x0;_0x2220b6['on'](_0x5d8299(0x1fb),_0x3227a7=>{var _0x4c91da=_0x5d8299;_0x67e427+=_0x3227a7[_0x4c91da(0x245)],_0x26d1d8=Math['round'](_0x67e427/_0x476cb0*0x64),addProgressText(language['downloadingBackgroundVideo']+'\x20'+_0x26d1d8+'%');});}),_0x3a123c['on']('finish',()=>{_0x29f9ff();});});}async function convertVideo(){return new Promise(function(_0x119682,_0x271e59){var _0x3bcdc3=a6_0x1061,_0x2b238d;fs[_0x3bcdc3(0x23d)](documentsPath+_0x3bcdc3(0x1ff)+fileId),ffmpeg(documentsPath+_0x3bcdc3(0x217)+fileId+_0x3bcdc3(0x223))['on'](_0x3bcdc3(0x229),_0x4cf57b=>{_0x271e59(_0x4cf57b['message']);})['output'](documentsPath+_0x3bcdc3(0x1ff)+fileId+_0x3bcdc3(0x242))['on'](_0x3bcdc3(0x225),_0xfc62e6=>{var _0x373de7=_0x3bcdc3;_0x2b238d=Math['round'](_0xfc62e6['percent']),addProgressText(language[_0x373de7(0x226)]+'\x20'+_0x2b238d+'%');})['on'](_0x3bcdc3(0x22e),()=>{_0x119682();})['run']();});}var framerate;function initializeRender(){return new Promise(function(_0x46246c,_0x4eb41c){var _0x51b602=a6_0x1061;if(!videoSettings[_0x51b602(0x20e)]){var _0x4db736;ffprobe(documentsPath+_0x51b602(0x217)+fileId+'.mp4',{'path':ffprobeStatic[_0x51b602(0x1f7)]},(_0x466211,_0x560e32)=>{var _0x1c5e91=_0x51b602;if(_0x466211)errorMessage(_0x466211);framerate=_0x560e32[_0x1c5e91(0x212)][0x0][_0x1c5e91(0x1fc)],framerate=evaluate(framerate);for(let _0x4a573a=0x0;_0x4a573a<timeInterval[_0x1c5e91(0x245)];_0x4a573a++){frameInterval[_0x4a573a]=Math[_0x1c5e91(0x203)](timeInterval[_0x4a573a]*framerate);}fs['unlink'](documentsPath+_0x1c5e91(0x217)+fileId+_0x1c5e91(0x223),_0x3657d3=>{_0x3657d3&&errorMessage(_0x3657d3);});});}else{framerate=0x3c;for(let _0x1f304a=0x0;_0x1f304a<timeInterval[_0x51b602(0x245)];_0x1f304a++){frameInterval[_0x1f304a]=Math[_0x51b602(0x203)](timeInterval[_0x1f304a]*framerate),console[_0x51b602(0x206)](frameInterval[_0x1f304a]);}}fs[_0x51b602(0x23d)](documentsPath+_0x51b602(0x1f6)+fileId);if(!videoSettings['customBackgroundEnabled'])fs['readdir'](documentsPath+_0x51b602(0x1ff)+fileId,(_0x4ddd5b,_0x1c466b)=>{var _0x4ab455=_0x51b602;_0x4db736=Math[_0x4ab455(0x203)](_0x1c466b['length']/0x32);var _0x54569b=Math[_0x4ab455(0x203)](audioLenght*_0x4db736);_0x54569b>_0x1c466b[_0x4ab455(0x245)]&&(_0x54569b=_0x1c466b[_0x4ab455(0x245)]),_0x46246c(_0x54569b,_0x4db736);});else{var _0x228b88=Math[_0x51b602(0x203)](audioLenght*0x1e);_0x46246c(_0x228b88,0x3c);}});}function renderDom(_0x36de60,_0x319894,_0x145102){var _0x16d255=a6_0x1061;!videoSettings['customBackgroundEnabled']&&(select('render-background')[_0x16d255(0x240)][_0x16d255(0x201)]=_0x16d255(0x221)+documentsPath[_0x16d255(0x21a)](/\\/g,'/')+_0x16d255(0x1ff)+fileId+_0x16d255(0x251)+_0x36de60+_0x16d255(0x24f)),frameInterval[_0x16d255(0x214)](_0x36de60)!=-0x1&&(select(_0x16d255(0x224))[_0x16d255(0x207)]=lyricsText[frameInterval[_0x16d255(0x214)](_0x36de60)]),domtoimage[_0x16d255(0x20f)](select(_0x16d255(0x22d)),{'width':0x780,'height':0x438})[_0x16d255(0x250)](function(_0x5f9271){var _0x251138=_0x16d255,_0x3e3e5e=new FileReader();_0x3e3e5e[_0x251138(0x243)]=function(){var _0x3c4d22=_0x251138,_0x44d397=new Buffer(_0x3e3e5e['result']);fs[_0x3c4d22(0x24c)](documentsPath+_0x3c4d22(0x1f6)+fileId+_0x3c4d22(0x251)+_0x36de60+_0x3c4d22(0x1f9),_0x44d397,{},(_0xc35324,_0x42f230)=>{var _0x4386e7=_0x3c4d22;if(_0xc35324){stopLoader(),errorMessage(_0xc35324);return;}else _0x36de60==_0x319894?(renderVideo(),addProgressBar()):(_0x36de60++,renderDom(_0x36de60,_0x319894,_0x145102),addProgressText(language[_0x4386e7(0x21f)]+'\x20'+_0x36de60+'/'+_0x319894));});},_0x3e3e5e[_0x251138(0x20d)](_0x5f9271);});}var format='LXZmIGZwcz0zMCxmb3JtYXQ9eXV2NDIwcA==';function renderVideo(){var _0xf8dde0=a6_0x1061,_0xa8938d=[],_0x179a8c='',_0x458dac=0x5,_0x652e3a,_0x1d55cb=0x0,_0xac65d2;videoSettings['customAudioEnabled']||videoSettings[_0xf8dde0(0x1f5)]?_0xac65d2=documentsPath+'/Lyrixx/downloaded-music/'+fileId+_0xf8dde0(0x204):_0xac65d2=documentsPath+'/Lyrixx/downloaded-music/'+fileId+_0xf8dde0(0x208),fs[_0xf8dde0(0x24d)](documentsPath+_0xf8dde0(0x1f6)+fileId,(_0x327944,_0x1dac28)=>{var _0x3038d9=_0xf8dde0;for(let _0x281ddf=0x1;_0x281ddf<=_0x1dac28[_0x3038d9(0x245)];_0x281ddf++){_0x179a8c+=_0x3038d9(0x1fd)+_0x281ddf+_0x3038d9(0x234);}fs[_0x3038d9(0x24c)](documentsPath+_0x3038d9(0x1f6)+fileId+'/'+fileId+_0x3038d9(0x1f4),_0x179a8c,function(_0x22a16c){var _0x2fd2e2=_0x3038d9;_0x22a16c&&(stopLoader(),errorMessage(_0x22a16c)),ffmpeg(documentsPath+_0x2fd2e2(0x1f6)+fileId+'/'+fileId+'.txt')[_0x2fd2e2(0x23e)](['-y',_0x2fd2e2(0x220)+framerate,_0x2fd2e2(0x20a),_0x2fd2e2(0x222)])['addInput'](_0xac65d2)[_0x2fd2e2(0x23b)]([_0x2fd2e2(0x232),window[_0x2fd2e2(0x249)](format)])['on'](_0x2fd2e2(0x229),(_0x4f9cf5,_0x31a19c,_0x16e2c8)=>{var _0x500d83=_0x2fd2e2;stopLoader(),errorMessage(_0x4f9cf5[_0x500d83(0x241)]);})['output'](documentsPath+_0x2fd2e2(0x210)+fileId+_0x2fd2e2(0x223))['on'](_0x2fd2e2(0x225),_0x160735=>{var _0x3dc174=_0x2fd2e2;_0x652e3a=Math[_0x3dc174(0x203)](_0x160735[_0x3dc174(0x200)]),_0x652e3a>=0x63&&(_0x652e3a=0x63),addProgressText(language[_0x3dc174(0x230)]+'\x20'+_0x652e3a+'%');})['on'](_0x2fd2e2(0x22e),()=>{var _0x5351ec=_0x2fd2e2;finishLoader(),addProgressBar(),fs[_0x5351ec(0x22b)](documentsPath+'/Lyrixx/frames-rendered/'+fileId,{'recursive':!![]}),!videoSettings['customBackgroundEnabled']&&(fs['rmdirSync'](documentsPath+'/Lyrixx/frames-raw/'+fileId,{'recursive':!![]}),fs['unlink'](documentsPath+'/Lyrixx/downloaded-music/'+fileId+_0x5351ec(0x223),_0x176546=>{_0x176546&&errorMessage(_0x176546);})),fs['unlink'](documentsPath+'/Lyrixx/downloaded-music/'+fileId+'.mp3',_0x510e32=>{_0x510e32&&errorMessage(_0x510e32);});})['run']();});});}var savedVideoPath;function saveVideo(){var _0x287962=a6_0x1061,_0x22a586;ipcRenderer['send']('saveAs',selectedArtist+'\x20-\x20'+selectedSongName+_0x287962(0x223)),ipcRenderer['on'](_0x287962(0x236),(_0x51bda5,_0xeb795)=>{var _0x190027=_0x287962;savedVideoPath=_0xeb795[_0x190027(0x237)](0x0,_0xeb795[_0x190027(0x24b)]('\x5c')),fs[_0x190027(0x20b)](documentsPath+_0x190027(0x210)+fileId+_0x190027(0x223),function(_0x58406d,_0x34dd3a){var _0x36f119=_0x190027,_0x1dee06=new window[(_0x36f119(0x233))]([new Uint8Array(_0x34dd3a)]);fs['writeFile'](_0xeb795,_0x34dd3a,{},(_0x501ca6,_0x35b17b)=>{var _0x2a7418=_0x36f119;if(_0x501ca6){errorMessage(_0x501ca6);return;}successMessage(language[_0x2a7418(0x22a)]),generateThumbnail();});});});}function generateThumbnail(){var _0x895a8e=a6_0x1061;auth[_0x895a8e(0x211)]&&auth[_0x895a8e(0x211)]['getIdToken']()[_0x895a8e(0x250)](_0x4fb5d8=>{var _0x3ed19d=_0x895a8e;fetch(apiServer+_0x3ed19d(0x1fe),{'method':'post','headers':{'Accept':_0x3ed19d(0x216),'Content-Type':_0x3ed19d(0x216)},'body':JSON[_0x3ed19d(0x1fa)]({'token':_0x4fb5d8})})[_0x3ed19d(0x250)](_0x514e68=>{var _0x407ea5=_0x3ed19d;return _0x514e68[_0x407ea5(0x218)]();})[_0x3ed19d(0x250)](_0x329454=>{var _0x2d86fb=_0x3ed19d;_0x329454['thumbnail']&&(select('thumbnail-render')[_0x2d86fb(0x240)]['display']=_0x2d86fb(0x205),select('thumbnail-title')[_0x2d86fb(0x207)]=selectedSongName,select(_0x2d86fb(0x23f))[_0x2d86fb(0x207)]=selectedArtist,select(_0x2d86fb(0x228))[_0x2d86fb(0x240)][_0x2d86fb(0x201)]=_0x2d86fb(0x215)+selectedVideoId+_0x2d86fb(0x238),domtoimage['toBlob'](select('thumbnail-render'),{'width':0x780,'height':0x438})[_0x2d86fb(0x250)](_0x5ce5ac=>{var _0x1bac04=_0x2d86fb,_0x3498eb=new FileReader();_0x3498eb[_0x1bac04(0x243)]=function(){var _0x3bcfcf=_0x1bac04,_0x45f1dd=new Buffer(_0x3498eb['result']);fs[_0x3bcfcf(0x24c)](savedVideoPath+'/'+selectedArtist+_0x3bcfcf(0x24a)+selectedSongName+_0x3bcfcf(0x1f9),_0x45f1dd,{},(_0x3031a7,_0x34e5a3)=>{var _0x45f7b8=_0x3bcfcf;if(_0x3031a7){stopLoader(),console[_0x45f7b8(0x229)](_0x3031a7);return;}});},_0x3498eb['readAsArrayBuffer'](_0x5ce5ac);}));});});}